<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Efes ‚Äî –ë—É—Ç—ã–ª–æ—á–∫–∞ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π style.css –ø—Ä–æ–µ–∫—Ç–∞ -->
  <link rel="stylesheet" href="../../style.css">

  <style>
    /* ===== –ï–©–Å –ë–û–õ–ï–ï EFES-–°–¢–ò–õ–¨ –î–õ–Ø –≠–¢–û–ì–û –≠–ö–†–ê–ù–ê ===== */
    .card { max-width: 440px; padding-top: 18px; }
    .title-wrap { display:flex; align-items:center; justify-content:center; gap:10px; }
    .badge-efes {
      font-weight: 800; letter-spacing: .5px;
      color: var(--efes-gold-bright, #ffd700);
      background: linear-gradient(145deg, #154b8e, #052a58);
      border: 1px solid rgba(255,215,0,.55);
      padding: 4px 10px; border-radius: 999px; font-size: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,.25) inset;
    }

    /* –ë–ª–æ–∫ –±—É—Ç—ã–ª–∫–∏ */
    .predict-stage {
      position: relative;
      width: 200px;
      margin: 18px auto 6px;
      filter: drop-shadow(0 8px 22px rgba(0,0,0,.35));
    }
    .predict-img {
      width: 100%;
      transform-origin: 50% 100%;
      user-select: none; -webkit-user-drag: none;
    }

    /* –ü—É–∑—ã—Ä—ë–∫-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ, –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –≥–æ—Ä–ª—ã—à–∫–∞ */
    .bubble {
      position: absolute;
      left: 50%;
      bottom: 72%;
      transform: translateX(-50%) translateY(10px) scale(.96);
      max-width: 90vw;
      width: 290px;
      background: #ffffff;
      color: #1b2b4a;
      border-radius: 14px;
      padding: 12px 14px;
      text-align: left;
      line-height: 1.35;
      font-size: 15px;
      box-shadow: 0 8px 30px rgba(0,0,0,.25);
      opacity: 0;
      pointer-events: none;
    }
    :root[data-theme="dark"] .bubble {
      background: rgba(255,255,255,.96);
      color: #0e1a33;
    }
    .bubble::after {
      /* ¬´—Ö–≤–æ—Å—Ç–∏–∫¬ª –∫ –≥–æ—Ä–ª—ã—à–∫—É –±—É—Ç—ã–ª–∫–∏ */
      content: "";
      position: absolute;
      left: 50%; transform: translateX(-50%);
      bottom: -10px;
      border: 10px solid transparent;
      border-top-color: #ffffff;
    }
    :root[data-theme="dark"] .bubble::after {
      border-top-color: rgba(255,255,255,.96);
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è –≤—Å–ø–ª—ã—Ç–∏—è ¬´–∏–∑ –±—É—Ç—ã–ª–∫–∏¬ª */
    @keyframes bubblePop {
      0%   { transform: translateX(-50%) translateY(16px) scale(.9); opacity: 0; }
      55%  { transform: translateX(-50%) translateY(-2px) scale(1.03); opacity: 1; }
      100% { transform: translateX(-50%) translateY(0) scale(1); opacity: 1; }
    }
    .bubble.show { animation: bubblePop .38s cubic-bezier(.2,.8,.2,1) forwards; }

    /* –õ—ë–≥–∫–∞—è ¬´–¥—Ä–æ–∂—å¬ª –±—É—Ç—ã–ª–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ */
    @keyframes wobble {
      0% { transform: rotate(0deg) scale(1.0); }
      15%{ transform: rotate(-6deg) scale(1.06); }
      35%{ transform: rotate(6deg)  scale(1.06); }
      55%{ transform: rotate(-3deg) scale(1.02); }
      75%{ transform: rotate(3deg)  scale(1.01); }
      100%{ transform: rotate(0deg) scale(1.0); }
    }
    .predict-img.wobble { animation: wobble .7s ease; }

    /* –ò—Å–∫–æ—Ä–∫–∏/–ø–µ–Ω–∞ –æ–∫–æ–ª–æ –≥–æ—Ä–ª—ã—à–∫–∞ –¥–ª—è –º–∞–≥–∏–∏ */
    .sparkle {
      position: absolute; left: 50%; bottom: 78%;
      width: 8px; height: 8px; border-radius: 50%;
      background: radial-gradient(circle, #fff 30%, rgba(255,255,255,0) 60%);
      opacity: 0; pointer-events: none;
      transform: translateX(-50%) translateY(0);
    }
    @keyframes fizz {
      0%   { opacity: .0; transform: translateX(-50%) translateY(0) scale(.6); }
      30%  { opacity: .9; }
      100% { opacity: 0; transform: translateX(calc(-50% + var(--dx,0px))) translateY(-26px) scale(1.4); }
    }
    .sparkle.show { animation: fizz .9s ease-out forwards; }

    .controls { margin-top:12px; display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
    .hint  { font-size: 13px; opacity: .85; margin-top: 6px; }
  </style>
</head>
<body>
  <div class="card">
    <div class="title-wrap">
      <h1 style="margin:0;">üîÆ –ë—É—Ç—ã–ª–æ—á–∫–∞</h1>
      <div class="badge-efes">EFES</div>
    </div>
    <p class="hint">–¢–∫–Ω–∏ –ø–æ –±—É—Ç—ã–ª–∫–µ ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ ¬´–≤—ã–ª–µ—Ç–∏—Ç¬ª –∏–∑ –≥–æ—Ä–ª—ã—à–∫–∞ c –æ–∑–≤—É—á–∫–æ–π</p>

    <div class="predict-stage">
      <img id="bottle" class="predict-img" src="./efes-bottle.png" alt="Efes Bottle">
      <div id="bubble" class="bubble">–ì–æ—Ç–æ–≤–æ –∫ –º–∞–≥–∏–∏ ‚ú®</div>
      <div id="spark1" class="sparkle"></div>
      <div id="spark2" class="sparkle" style="--dx:14px;"></div>
      <div id="spark3" class="sparkle" style="--dx:-12px;"></div>
    </div>

    <div class="controls">
      <button id="againBtn" class="btn">–ï—â—ë –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</button>
      <button id="shuffleBtn" class="btn" style="background:transparent;color:inherit;border:1px solid rgba(0,0,0,.2);">
        –ü–µ—Ä–µ–º–µ—à–∞—Ç—å –∑–∞–Ω–æ–≤–æ
      </button>
    </div>

    <div class="hint">–°–æ–≤–µ—Ç: –≤–∫–ª—é—á–∏ –∑–≤—É–∫ üì£</div>

    <!-- –ê—É–¥–∏–æ (—Å–∫—Ä—ã—Ç–æ) -->
    <audio id="fortune-audio" preload="auto"></audio>
  </div>

  <!-- –¢–µ–∫—Å—Ç—ã/–∞—É–¥–∏–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π -->
  <script src="./predictions.js"></script>
  <!-- –õ–æ–≥–∏–∫–∞ -->
  <script src="./script.js" defer></script>
</body>
</html>